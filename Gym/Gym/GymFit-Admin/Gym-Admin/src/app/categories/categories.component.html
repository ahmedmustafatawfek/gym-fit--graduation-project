<div class="main-content">
  <div class="">
    <a class="btn btn-danger" [routerLink]="'/Categories/Create'"> Create New Category</a>
    
  </div>
  <div class="card">
    <div class="card-body">
      <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-bordered table-hover table-striped table-sm text-center">
        <thead class="thead-dark center">
          <tr>
            <th>
              Category Name
            </th>
            <th>
              Description
            </th>
            <th>
              Created At
            </th>
            <th>
              Is Deleted
            </th>
            <th>
              Actions
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let category of categories">
            <td>
              {{category.Name}}
            </td>
            <td>
              {{category.Description}}
            </td>
            <td>
              {{category.CreatedAt | date}}
            </td>
            <td>
              {{category.Deleted ? "Deleted" : ""}}
            </td>
            <td>
              <div>
                <button [routerLink]="['/Categories/Edit',  category.ID]" class="icon btn-primary" title="Edit">
                  <i class="fa fa-pencil-square-o" aria-hidden="true"></i></button>
                
                <button *ngIf="category.Deleted" class="icon btn-success"
                  mwlConfirmationPopover
                  popoverTitle="Revert Confirmation"
                  popoverMessage="Are you sure you want to Restore this Category ?"
                  placement="left"
                  (confirm)="DeleteCategory(category.ID)"
                  (cancel)="cancelClicked = true"
                  confirmButtonType='success'>
                  <i class="fa fa-retweet" aria-hidden="true"></i>
                </button>
                <button *ngIf="!category.Deleted" class="icon btn-danger" mwlConfirmationPopover
                        popoverTitle="Delete Confirmation"
                        popoverMessage="Are you sure you want to delete this Category ?"
                        placement="left"
                        (confirm)="DeleteCategory(category.ID)"
                        (cancel)="cancelClicked = true"
                        title="Delete">
                  <i class="fa fa-trash" aria-hidden="true"></i>
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>